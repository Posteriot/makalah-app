/* ==========================================================================
 * DS Chat V1 Staging Tokens
 * Scoped to chat only via [data-ds-scope="chat-v1"]
 * ========================================================================== */

/* Reference aliases (all values must point to existing globals.css palette) */
:root {
  --ds-ref-slate-50: var(--slate-50);
  --ds-ref-slate-100: var(--slate-100);
  --ds-ref-slate-200: var(--slate-200);
  --ds-ref-slate-300: var(--slate-300);
  --ds-ref-slate-400: var(--slate-400);
  --ds-ref-slate-500: var(--slate-500);
  --ds-ref-slate-600: var(--slate-600);
  --ds-ref-slate-700: var(--slate-700);
  --ds-ref-slate-800: var(--slate-800);
  --ds-ref-slate-900: var(--slate-900);
  --ds-ref-slate-950: var(--slate-950);
  --ds-ref-emerald-300: var(--emerald-300);
  --ds-ref-emerald-400: var(--emerald-400);
  --ds-ref-emerald-500: var(--emerald-500);
  --ds-ref-emerald-600: var(--emerald-600);
  --ds-ref-amber-300: var(--amber-300);
  --ds-ref-amber-500: var(--amber-500);
  --ds-ref-amber-700: var(--amber-700);
  --ds-ref-amber-800: var(--amber-800);
  --ds-ref-amber-900: var(--amber-900);
  --ds-ref-amber-100: var(--amber-100);
  --ds-ref-rose-400: var(--rose-400);
  --ds-ref-rose-500: var(--rose-500);
  --ds-ref-neutral-0: var(--neutral-0);
  --ds-ref-slate-400-a: var(--neutral-400-a25);
  --ds-ref-slate-300-a: var(--neutral-400-a15);
  --ds-ref-slate-500-a: var(--neutral-500-a50);
  --ds-ref-slate-600-a: var(--neutral-600-a50);
  --ds-ref-slate-700-a: var(--neutral-800-a40);
}

[data-ds-scope="chat-v1"] {
  --ds-surface-base: var(--ds-ref-slate-50);
  --ds-surface-subtle: var(--ds-ref-slate-100);
  --ds-surface-panel: var(--ds-ref-slate-100);
  --ds-surface-elevated: var(--ds-ref-slate-200);
  --ds-border-subtle: var(--ds-ref-slate-400-a);
  --ds-border-strong: var(--ds-ref-slate-500-a);
  --ds-text-toolbar-muted: var(--slate-600);
  --ds-text-toolbar-hover: var(--slate-800);
  --ds-text-toolbar-active: var(--slate-800);
  --ds-text-toolbar-hover-active: var(--slate-950);
  --ds-text-toolbar-disabled: var(--slate-400);
  --ds-text-muted: var(--ds-ref-slate-600);
  --ds-text-muted-strong: var(--ds-ref-slate-700);
  --ds-text-primary-strong: var(--ds-ref-slate-950);
  --ds-badge-artifact-bg: var(--emerald-600);
  --ds-badge-artifact-fg: var(--slate-100);
  --ds-surface-activitybar: var(--ds-ref-slate-300);
  --ds-surface-activitybar-hover: var(--ds-ref-slate-200);
  --ds-border-activitybar: var(--ds-ref-slate-400-a);
  --ds-border-activitybar-strong: var(--ds-ref-slate-400-a);
  --ds-activity-item-fg: var(--ds-ref-slate-600);
  --ds-activity-item-hover-bg: var(--ds-surface-activitybar-hover);
  --ds-activity-item-hover-fg: var(--ds-ref-slate-700);
  --ds-activity-item-active-bg: var(--ds-ref-slate-200);
  --ds-activity-item-active-fg: var(--ds-ref-slate-700);
  --ds-activity-item-active-border: var(--ds-ref-slate-500-a);
  --ds-sidebar-surface: var(--ds-ref-slate-200);
  --ds-sidebar-border: var(--ds-ref-slate-500-a);
  --ds-sidebar-border-strong: var(--ds-ref-slate-500-a);
  --ds-sidebar-cta-border: var(--ds-ref-slate-600-a);
  --ds-sidebar-cta-bg: var(--ds-ref-slate-600);
  --ds-sidebar-cta-bg-hover: var(--ds-ref-slate-700);
  --ds-sidebar-cta-fg: var(--ds-ref-slate-100);
  --ds-user-message-bg: var(--ds-ref-slate-200);
  --ds-template-button-bg: var(--ds-ref-slate-200);
  --ds-template-button-bg-hover: var(--ds-ref-slate-300);
  --ds-state-danger-bg: color-mix(in oklch, var(--ds-ref-rose-500) 12%, transparent);
  --ds-state-danger-border: color-mix(in oklch, var(--ds-ref-rose-500) 35%, transparent);
  --ds-state-danger-border-strong: color-mix(in oklch, var(--ds-ref-rose-500) 50%, transparent);
  --ds-state-danger-fg: var(--ds-ref-rose-500);
  --ds-state-danger-fg-muted: color-mix(in oklch, var(--ds-ref-rose-500) 60%, transparent);
  --ds-state-success-bg: color-mix(in oklch, var(--ds-ref-emerald-500) 12%, transparent);
  --ds-state-success-border: color-mix(in oklch, var(--ds-ref-emerald-500) 35%, transparent);
  --ds-state-success-border-soft: color-mix(in oklch, var(--ds-ref-emerald-500) 30%, transparent);
  --ds-state-success-chip-bg: color-mix(in oklch, var(--ds-ref-emerald-500) 15%, transparent);
  --ds-state-success-fg: var(--ds-ref-emerald-600);
  --ds-state-warning-bg: color-mix(in oklch, var(--ds-ref-amber-500) 12%, transparent);
  --ds-state-warning-border: color-mix(in oklch, var(--ds-ref-amber-500) 35%, transparent);
  --ds-state-warning-border-soft: color-mix(in oklch, var(--ds-ref-amber-500) 30%, transparent);
  --ds-state-warning-chip-bg: color-mix(in oklch, var(--ds-ref-amber-500) 15%, transparent);
  --ds-state-warning-fg: var(--ds-ref-amber-700);
  --ds-status-surface: color-mix(in oklch, var(--ds-ref-slate-100) 85%, transparent);
  --ds-status-border: color-mix(in oklch, var(--ds-ref-slate-400) 45%, transparent);
  --ds-status-track-bg: var(--ds-ref-slate-200);
  --ds-status-progress-success: var(--ds-ref-emerald-600);
  --ds-status-progress-error: var(--ds-ref-rose-500);
  --ds-thinking-dot: var(--ds-ref-slate-500);
  --ds-resizer-base: var(--ds-ref-slate-50);
  --ds-resizer-active: var(--sky-300);
  --ds-chat-history-item-active-bg: var(--ds-ref-slate-50);
  --ds-chat-history-item-active-border: color-mix(in oklch, var(--ds-ref-slate-400) 45%, transparent);
  --ds-chat-history-item-hover-bg: var(--ds-ref-slate-300);
  --ds-artifact-panel-bg: var(--ds-ref-slate-100);
  --ds-artifact-panel-border: color-mix(in oklch, var(--ds-ref-slate-400) 62%, transparent);
  --ds-artifact-divider-border: color-mix(in oklch, var(--ds-ref-slate-400) 65%, transparent);
  --ds-artifact-text-primary: var(--ds-ref-slate-900);
  --ds-artifact-text-secondary: var(--ds-ref-slate-700);
  --ds-artifact-text-muted: var(--ds-ref-slate-600);
  --ds-artifact-text-subtle: var(--ds-ref-slate-500);
  --ds-artifact-empty-icon: var(--ds-ref-slate-500);
  --ds-artifact-chip-bg: color-mix(in oklch, var(--ds-ref-slate-200) 85%, transparent);
  --ds-artifact-chip-border: color-mix(in oklch, var(--ds-ref-slate-400) 62%, transparent);
  --ds-artifact-chip-fg: var(--ds-ref-slate-700);
  --ds-artifact-icon-fg: var(--ds-ref-slate-600);
  --ds-artifact-icon-hover-bg: color-mix(in oklch, var(--ds-ref-slate-200) 80%, transparent);
  --ds-artifact-icon-hover-fg: var(--ds-ref-slate-900);
  --ds-artifact-focus-offset: var(--ds-ref-slate-100);
  --ds-artifact-action-bg: var(--ds-ref-slate-600);
  --ds-artifact-action-border: color-mix(in oklch, var(--ds-ref-slate-500) 65%, transparent);
  --ds-artifact-action-fg: var(--ds-ref-slate-100);
  --ds-artifact-action-hover-bg: var(--ds-ref-slate-700);
  --ds-artifact-action-hover-border: color-mix(in oklch, var(--ds-ref-slate-500) 72%, transparent);
  --ds-artifact-action-copied-bg: var(--ds-ref-slate-700);
  --ds-artifact-action-copied-border: color-mix(in oklch, var(--ds-ref-slate-500) 80%, transparent);
  --ds-artifact-action-disabled-fg: var(--ds-ref-slate-300);
  --ds-artifact-action-disabled-hover-fg: var(--ds-ref-slate-200);
  --ds-artifact-expand-bg: color-mix(in oklch, var(--ds-ref-slate-200) 90%, transparent);
  --ds-artifact-expand-border: color-mix(in oklch, var(--ds-ref-slate-400) 70%, transparent);
  --ds-artifact-expand-fg: var(--ds-ref-slate-700);
  --ds-artifact-expand-hover-bg: color-mix(in oklch, var(--ds-ref-slate-300) 80%, transparent);
  --ds-artifact-expand-hover-border: color-mix(in oklch, var(--ds-ref-slate-500) 78%, transparent);
  --ds-artifact-tab-gradient: color-mix(in oklch, var(--ds-ref-slate-100) 95%, transparent);
  --ds-artifact-tab-active-bg: var(--ds-ref-neutral-0);
  --ds-artifact-tab-active-border: color-mix(in oklch, var(--ds-ref-slate-400) 65%, transparent);
  --ds-artifact-tab-active-shadow: var(--neutral-0-a15);
  --ds-artifact-tab-inactive-bg: color-mix(in oklch, var(--ds-ref-slate-100) 35%, transparent);
  --ds-artifact-tab-inactive-hover-bg: color-mix(in oklch, var(--ds-ref-slate-200) 60%, transparent);
  --ds-artifact-tab-inactive-hover-border: color-mix(in oklch, var(--ds-ref-slate-400) 65%, transparent);
  --ds-artifact-tab-icon-bg: var(--ds-ref-slate-100);
  --ds-artifact-tab-icon-border: color-mix(in oklch, var(--ds-ref-slate-400) 55%, transparent);
  --ds-artifact-tab-icon-fg: var(--ds-ref-slate-500);
  --ds-artifact-tab-text-active: var(--ds-ref-slate-900);
  --ds-artifact-tab-text-inactive: var(--ds-ref-slate-500);
  --ds-artifact-tab-close-fg: var(--ds-ref-slate-600);
  --ds-artifact-tab-controls-border: color-mix(in oklch, var(--ds-ref-slate-400) 65%, transparent);
  --ds-artifact-tab-controls-fg: var(--ds-ref-slate-600);
  --ds-artifact-tab-controls-hover-fg: var(--ds-ref-slate-900);
  --ds-artifact-tab-controls-hover-bg: var(--accent);
  --ds-artifact-viewer-select-bg: color-mix(in oklch, var(--ds-ref-slate-200) 80%, transparent);
  --ds-artifact-viewer-select-border: color-mix(in oklch, var(--ds-ref-slate-400) 62%, transparent);
  --ds-artifact-viewer-select-fg: var(--ds-ref-slate-800);
  --ds-artifact-viewer-canvas-bg: var(--ds-ref-slate-50);
  --ds-artifact-viewer-canvas-border: color-mix(in oklch, var(--ds-ref-slate-400) 62%, transparent);
  --ds-artifact-viewer-overlay-bg: color-mix(in oklch, var(--ds-ref-slate-100) 95%, transparent);
  --ds-artifact-warning-text-strong: var(--ds-ref-amber-900);
  --ds-artifact-warning-text-muted: color-mix(in oklch, var(--ds-ref-amber-800) 85%, transparent);
}

.dark [data-ds-scope="chat-v1"] {
  --ds-surface-base: var(--ds-ref-slate-900);
  --ds-surface-subtle: var(--ds-ref-slate-800);
  --ds-surface-panel: var(--ds-ref-slate-800);
  --ds-surface-elevated: var(--ds-ref-slate-800);
  --ds-border-subtle: var(--ds-ref-slate-600-a);
  --ds-border-strong: var(--ds-ref-slate-700-a);
  --ds-text-toolbar-muted: var(--slate-200);
  --ds-text-toolbar-hover: var(--slate-50);
  --ds-text-toolbar-active: var(--slate-100);
  --ds-text-toolbar-hover-active: var(--slate-50);
  --ds-text-toolbar-disabled: var(--slate-500);
  --ds-text-muted: var(--ds-ref-slate-300);
  --ds-text-muted-strong: var(--ds-ref-slate-200);
  --ds-text-primary-strong: var(--ds-ref-slate-100);
  --ds-badge-artifact-bg: var(--emerald-600);
  --ds-badge-artifact-fg: var(--slate-100);
  --ds-surface-activitybar: var(--ds-ref-slate-900);
  --ds-surface-activitybar-hover: var(--ds-ref-slate-800);
  --ds-border-activitybar: var(--ds-ref-slate-600-a);
  --ds-border-activitybar-strong: var(--ds-ref-slate-600-a);
  --ds-activity-item-fg: var(--ds-ref-slate-400);
  --ds-activity-item-hover-bg: var(--ds-surface-activitybar-hover);
  --ds-activity-item-hover-fg: var(--ds-ref-slate-100);
  --ds-activity-item-active-bg: var(--ds-ref-slate-800);
  --ds-activity-item-active-fg: var(--ds-ref-slate-100);
  --ds-activity-item-active-border: var(--ds-ref-slate-600);
  --ds-sidebar-surface: var(--ds-ref-slate-800);
  --ds-sidebar-border: var(--ds-ref-slate-600-a);
  --ds-sidebar-border-strong: var(--ds-ref-slate-600-a);
  --ds-sidebar-cta-border: var(--ds-ref-slate-700);
  --ds-sidebar-cta-bg: var(--ds-ref-slate-900);
  --ds-sidebar-cta-bg-hover: var(--ds-ref-slate-600);
  --ds-sidebar-cta-fg: var(--ds-ref-slate-100);
  --ds-user-message-bg: var(--card);
  --ds-template-button-bg: var(--card);
  --ds-template-button-bg-hover: var(--ds-ref-slate-800);
  --ds-state-danger-bg: color-mix(in oklch, var(--ds-ref-rose-400) 18%, transparent);
  --ds-state-danger-border: color-mix(in oklch, var(--ds-ref-rose-500) 35%, transparent);
  --ds-state-danger-border-strong: color-mix(in oklch, var(--ds-ref-rose-500) 50%, transparent);
  --ds-state-danger-fg: var(--ds-ref-rose-400);
  --ds-state-danger-fg-muted: color-mix(in oklch, var(--ds-ref-rose-400) 60%, transparent);
  --ds-state-success-bg: color-mix(in oklch, var(--ds-ref-emerald-500) 18%, transparent);
  --ds-state-success-border: color-mix(in oklch, var(--ds-ref-emerald-500) 35%, transparent);
  --ds-state-success-border-soft: color-mix(in oklch, var(--ds-ref-emerald-500) 30%, transparent);
  --ds-state-success-chip-bg: color-mix(in oklch, var(--ds-ref-emerald-500) 20%, transparent);
  --ds-state-success-fg: var(--ds-ref-emerald-300);
  --ds-state-warning-bg: color-mix(in oklch, var(--ds-ref-amber-500) 20%, transparent);
  --ds-state-warning-border: color-mix(in oklch, var(--ds-ref-amber-500) 35%, transparent);
  --ds-state-warning-border-soft: color-mix(in oklch, var(--ds-ref-amber-500) 30%, transparent);
  --ds-state-warning-chip-bg: color-mix(in oklch, var(--ds-ref-amber-500) 20%, transparent);
  --ds-state-warning-fg: var(--ds-ref-amber-300);
  --ds-status-surface: color-mix(in oklch, var(--ds-ref-slate-800) 82%, transparent);
  --ds-status-border: color-mix(in oklch, var(--ds-ref-slate-700) 55%, transparent);
  --ds-status-track-bg: var(--ds-ref-slate-700);
  --ds-status-progress-success: var(--ds-ref-emerald-400);
  --ds-status-progress-error: var(--ds-ref-rose-400);
  --ds-thinking-dot: var(--ds-ref-slate-300);
  --ds-resizer-base: var(--ds-ref-slate-900);
  --ds-resizer-active: var(--sky-700);
  --ds-chat-history-item-active-bg: color-mix(in oklch, var(--ds-ref-slate-900) 60%, transparent);
  --ds-chat-history-item-active-border: var(--ds-ref-slate-700);
  --ds-chat-history-item-hover-bg: color-mix(in oklch, var(--ds-ref-slate-600) 60%, transparent);
  --ds-artifact-panel-bg: var(--ds-ref-slate-800);
  --ds-artifact-panel-border: color-mix(in oklch, var(--ds-ref-slate-700) 70%, transparent);
  --ds-artifact-divider-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-text-primary: var(--ds-ref-slate-100);
  --ds-artifact-text-secondary: var(--ds-ref-slate-100);
  --ds-artifact-text-muted: var(--ds-ref-slate-400);
  --ds-artifact-text-subtle: var(--ds-ref-slate-400);
  --ds-artifact-empty-icon: color-mix(in oklch, var(--ds-ref-slate-400) 70%, transparent);
  --ds-artifact-chip-bg: color-mix(in oklch, var(--ds-ref-slate-900) 72%, transparent);
  --ds-artifact-chip-border: color-mix(in oklch, var(--ds-ref-slate-700) 70%, transparent);
  --ds-artifact-chip-fg: var(--ds-ref-slate-100);
  --ds-artifact-icon-fg: var(--ds-ref-slate-400);
  --ds-artifact-icon-hover-bg: color-mix(in oklch, var(--ds-ref-slate-700) 70%, transparent);
  --ds-artifact-icon-hover-fg: var(--ds-ref-slate-100);
  --ds-artifact-focus-offset: var(--ds-ref-slate-800);
  --ds-artifact-action-bg: color-mix(in oklch, var(--ds-ref-slate-900) 90%, transparent);
  --ds-artifact-action-border: color-mix(in oklch, var(--ds-ref-slate-700) 70%, transparent);
  --ds-artifact-action-fg: var(--ds-ref-slate-100);
  --ds-artifact-action-hover-bg: var(--ds-ref-slate-600);
  --ds-artifact-action-hover-border: color-mix(in oklch, var(--ds-ref-slate-700) 80%, transparent);
  --ds-artifact-action-copied-bg: var(--ds-ref-slate-600);
  --ds-artifact-action-copied-border: color-mix(in oklch, var(--ds-ref-slate-500) 70%, transparent);
  --ds-artifact-action-disabled-fg: var(--ds-ref-slate-400);
  --ds-artifact-action-disabled-hover-fg: var(--ds-ref-slate-300);
  --ds-artifact-expand-bg: color-mix(in oklch, var(--ds-ref-slate-900) 70%, transparent);
  --ds-artifact-expand-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-expand-fg: var(--ds-ref-slate-100);
  --ds-artifact-expand-hover-bg: var(--ds-ref-slate-900);
  --ds-artifact-expand-hover-border: color-mix(in oklch, var(--ds-ref-slate-700) 82%, transparent);
  --ds-artifact-tab-gradient: color-mix(in oklch, var(--ds-ref-slate-800) 95%, transparent);
  --ds-artifact-tab-active-bg: var(--ds-ref-slate-800);
  --ds-artifact-tab-active-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-tab-active-shadow: var(--neutral-0-a10);
  --ds-artifact-tab-inactive-bg: transparent;
  --ds-artifact-tab-inactive-hover-bg: color-mix(in oklch, var(--ds-ref-slate-700) 60%, transparent);
  --ds-artifact-tab-inactive-hover-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-tab-icon-bg: color-mix(in oklch, var(--ds-ref-slate-900) 70%, transparent);
  --ds-artifact-tab-icon-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-tab-icon-fg: var(--ds-ref-slate-400);
  --ds-artifact-tab-text-active: var(--ds-ref-slate-100);
  --ds-artifact-tab-text-inactive: var(--ds-ref-slate-400);
  --ds-artifact-tab-close-fg: var(--ds-ref-slate-400);
  --ds-artifact-tab-controls-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-tab-controls-fg: var(--ds-ref-slate-400);
  --ds-artifact-tab-controls-hover-fg: var(--ds-ref-slate-100);
  --ds-artifact-tab-controls-hover-bg: color-mix(in oklch, var(--ds-ref-slate-700) 70%, transparent);
  --ds-artifact-viewer-select-bg: color-mix(in oklch, var(--ds-ref-slate-900) 70%, transparent);
  --ds-artifact-viewer-select-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-viewer-select-fg: var(--ds-ref-slate-100);
  --ds-artifact-viewer-canvas-bg: var(--ds-ref-slate-900);
  --ds-artifact-viewer-canvas-border: color-mix(in oklch, var(--ds-ref-slate-700) 72%, transparent);
  --ds-artifact-viewer-overlay-bg: color-mix(in oklch, var(--ds-ref-slate-900) 95%, transparent);
  --ds-artifact-warning-text-strong: var(--ds-ref-amber-100);
  --ds-artifact-warning-text-muted: color-mix(in oklch, var(--ds-ref-amber-300) 85%, transparent);
}
